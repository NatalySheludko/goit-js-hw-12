{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function createImgGallery(images) {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n\t\t\t<div class=\"img-wrap\">\n\t\t\t<a class=\"img-link\" href=\"${largeImageURL}\">\n\t\t\t<img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n\t\t\t</a></div>\t\n\t\t\t<ul class=\"data-wrapper\">\n\t\t\t\t<li class=\"wrap-item\">\n\t\t\t\t\t<p class=\"wrap-title\">Likes</p>\n\t\t\t\t\t<span class=\"wrap-text\">${likes}</span> </li>\n\t\t\t\t<li class=\"wrap-item\">\n\t\t\t\t\t<p class=\"wrap-title\">Views</p>\n\t\t\t\t\t<span class=\"wrap-text\">${views}</span> </li>\n\t\t\t\t<li class=\"wrap-item\">\n\t\t\t\t\t<p class=\"wrap-title\">Comments</p>\n\t\t\t\t\t<span class=\"wrap-text\">${comments}</span> </li>\n\t\t\t\t<li class=\"wrap-item\">\n\t\t\t\t\t<p class=\"wrap-title\">Downloads</p>\n\t\t\t\t\t<span class=\"wrap-text\">${downloads}</span> </li>\t\t\t\t\n\t\t\t</ul>\n\t\t\t</li>`\n    )\n    .join(\"\");\n}\n","export default function getImgGallery(imagesEl) {\n  const BASE_URL = \"https://pixabay.com/api/\";\n  const params = new URLSearchParams({\n    key: \"42911891-070dc2b99870cce1062cd0bc6\",\n    q: imagesEl,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(res =>\n    res.json().catch(error => {\n      console.log(error);\n    })\n  );\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport createImgGallery from \"./js/render-functions\";\nimport getImgGallery from \"./js/pixabay-api\";\n\nconst refs = {\n  imgGalleryForm: document.querySelector(\".gallery-form\"),\n  galleryContainer: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\"),\n};\n\nrefs.loader.style.display = \"none\";\n\nconst gallery = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nrefs.imgGalleryForm.addEventListener(\"submit\", e => {\n  e.preventDefault();\n\n  refs.loader.style.display = \"block\";\n\n  const imagesEl = e.target.elements.imgName.value;\n\n  getImgGallery(imagesEl)\n    .then(data => {\n      if (!imagesEl || data.hits.length === 0) {\n        iziToast.error({\n          position: \"topRight\",\n          backgroundColor: \"#e4a5ac\",\n          close: true,\n          messageColor: \"#774144\",\n          message:\n            \"❗Sorry, there are no images matching your search query. Please try again!\",\n        });\n\n        refs.loader.style.display = \"none\";\n\n        return;\n      } else {\n        const createCollection = createImgGallery(data.hits);\n\n        refs.galleryContainer.insertAdjacentHTML(\"beforeend\", createCollection);\n\n        gallery.refresh();\n\n        refs.loader.style.display = \"none\";\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  refs.imgGalleryForm.reset();\n  refs.galleryContainer.innerHTML = \"\";\n});\n"],"names":["createImgGallery","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","getImgGallery","imagesEl","BASE_URL","params","url","res","error","refs","gallery","SimpleLightbox","e","data","iziToast","createCollection"],"mappings":"6vBAAe,SAASA,EAAiBC,EAAQ,CAC/C,OAAOA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,+BAEmBN,CAAa;AAAA,qCACPC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKhCC,CAAK;AAAA;AAAA;AAAA,+BAGLC,CAAK;AAAA;AAAA;AAAA,+BAGLC,CAAQ;AAAA;AAAA;AAAA,+BAGRC,CAAS;AAAA;AAAA,SAGnC,EACA,KAAK,EAAE,CACZ,CCjCe,SAASC,EAAcC,EAAU,CAC9C,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GACrBA,EAAI,KAAI,EAAG,MAAMC,GAAS,CACxB,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CACA,CCRA,MAAMC,EAAO,CACX,eAAgB,SAAS,cAAc,eAAe,EACtD,iBAAkB,SAAS,cAAc,UAAU,EACnD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5B,MAAMC,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAK,eAAe,iBAAiB,SAAUG,GAAK,CAClDA,EAAE,eAAc,EAEhBH,EAAK,OAAO,MAAM,QAAU,QAE5B,MAAMN,EAAWS,EAAE,OAAO,SAAS,QAAQ,MAE3CV,EAAcC,CAAQ,EACnB,KAAKU,GAAQ,CACZ,GAAI,CAACV,GAAYU,EAAK,KAAK,SAAW,EAAG,CACvCC,EAAS,MAAM,CACb,SAAU,WACV,gBAAiB,UACjB,MAAO,GACP,aAAc,UACd,QACE,2EACZ,CAAS,EAEDL,EAAK,OAAO,MAAM,QAAU,OAE5B,MACR,KAAa,CACL,MAAMM,EAAmBtB,EAAiBoB,EAAK,IAAI,EAEnDJ,EAAK,iBAAiB,mBAAmB,YAAaM,CAAgB,EAEtEL,EAAQ,QAAO,EAEfD,EAAK,OAAO,MAAM,QAAU,MAC7B,CACP,CAAK,EACA,MAAMD,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEHC,EAAK,eAAe,QACpBA,EAAK,iBAAiB,UAAY,EACpC,CAAC"}